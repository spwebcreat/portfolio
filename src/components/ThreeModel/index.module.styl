.canvasModel
  position fixed
  width 100%
  height 100%
  top: 0
  left: 0
  z-index 1
  background #000

.loadingOverlay
  position fixed
  top 0
  left 0
  width 100%
  height 100%
  z-index 200
  background #000
  display flex
  flex-direction column
  align-items center
  justify-content center
  transition opacity 1.5s ease-out
  &.fadeOut
    opacity 0
    pointer-events none

.loadingProgress
  width 200px
  height 2px
  background rgba(255, 255, 255, 0.1)
  border-radius 1px
  overflow hidden
  margin-top 24px

.loadingBar
  height 100%
  background #00e5ff
  border-radius 1px
  transition width 0.3s ease

.loadingText
  color rgba(255, 255, 255, 0.4)
  font-size 12px
  letter-spacing 3px
  text-transform uppercase
  margin-top 12px
  font-family 'Montserrat', sans-serif

.fogOverlay
  position fixed
  top 0
  left 0
  width 100%
  height 100%
  z-index 199
  background radial-gradient(ellipse at center, rgba(176, 232, 255, 0.6) 0%, rgba(0, 0, 0, 0.8) 100%)
  transition opacity 2s ease-out
  pointer-events none
  &.clear
    opacity 0

// --- Crystal Label (常時表示) ---
.crystalLabel
  font-family 'Montserrat', sans-serif
  font-size 11px
  font-weight 600
  color #b0e8ff
  text-shadow 0 0 6px rgba(0, 229, 255, 0.4)
  white-space nowrap
  letter-spacing 0.5px
  transition color 0.3s, text-shadow 0.3s
  &[data-active]
    color #00e5ff
    text-shadow 0 0 12px rgba(0, 229, 255, 0.8), 0 0 24px rgba(0, 229, 255, 0.3)

// --- Detail Panel (2D overlay) ---
.detailPanel
  position fixed
  top 0
  right 0
  width 320px
  height 100%
  z-index 50
  background transparent
  backdrop-filter blur(16px)
  border-left 1px solid rgba(0, 229, 255, 0.15)
  transform translateX(100%)
  transition transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)
  display flex
  flex-direction column
  padding 80px 24px 24px
  overflow-y auto
  &.open
    transform translateX(0)

.panelClose
  position absolute
  top 20px
  right 20px
  width 36px
  height 36px
  border-radius 50%
  border 1px solid rgba(0, 229, 255, 0.3)
  background rgba(0, 229, 255, 0.05)
  color #b0e8ff
  font-size 18px
  cursor pointer
  display flex
  align-items center
  justify-content center
  transition background 0.2s, border-color 0.2s
  &:hover
    background rgba(0, 229, 255, 0.15)
    border-color rgba(0, 229, 255, 0.5)

.panelTitle
  color #00e5ff
  font-family 'Montserrat', sans-serif
  font-size 20px
  font-weight 700
  margin 0 0 12px

.panelDesc
  color #c8e6f0
  font-size 14px
  line-height 1.7
  margin 0 0 20px

.panelTags
  display flex
  flex-wrap wrap
  gap 6px

.panelTag
  display inline-block
  background rgba(0, 229, 255, 0.08)
  border 1px solid rgba(0, 229, 255, 0.25)
  border-radius 4px
  padding 4px 10px
  font-size 12px
  color #b0e8ff
  font-family 'Montserrat', sans-serif

// --- Time Toggle ---
.timeToggle
  position fixed
  bottom 16px
  left 16px
  z-index 100
  padding 6px 12px
  border-radius 6px
  border 1px solid rgba(255, 255, 255, 0.2)
  background rgba(0, 0, 0, 0.6)
  color rgba(255, 255, 255, 0.5)
  font-family 'Montserrat', sans-serif
  font-size 11px
  cursor pointer
  backdrop-filter blur(8px)
  transition background 0.2s, border-color 0.2s, color 0.2s
  &[data-active]
    border-color rgba(0, 229, 255, 0.4)
    color #00e5ff
  &:hover
    background rgba(0, 229, 255, 0.1)

// Mobile: 下からスライドアップ
@media (max-width: 768px)
  .detailPanel
    top auto
    bottom 0
    right 0
    left 0
    width 100%
    height auto
    max-height 50vh
    border-left none
    border-top 1px solid rgba(0, 229, 255, 0.15)
    border-radius 16px 16px 0 0
    transform translateY(100%)
    padding 24px 20px
    &.open
      transform translateY(0)
  .panelClose
    top 12px
    right 12px